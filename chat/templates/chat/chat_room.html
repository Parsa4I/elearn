{% extends 'base.html' %}
{% load static %}

{% block title %}
Chat Room
{% endblock %}

{% block content %}
<div class="row d-flex justify-content-center">
  <div>
    <div class="card" id="chat1" style="border-radius: 15px;">
      <div class="card-header d-flex justify-content-between align-items-center p-3 bg-dark text-white border-bottom-0"
        style="border-top-left-radius: 15px; border-top-right-radius: 15px;">
        <i class="fas fa-angle-left"></i>
        <p class="mb-0 fw-bold">{{ course }} live chat</p>
        <i class="fas fa-times"></i>
      </div>
      <div class="card-body" id="chat" style="height: 400px; overflow-y: auto;">
      </div>
      <div data-mdb-input-init class="form-outline d-flex">
        <textarea class="form-control bg-body-tertiary" id="messageArea" rows="1"></textarea>
        <button class="btn btn-primary" id="send-btn">Send</button>
      </div>
    </div>
  </div>
</div>

{{ course.slug|json_script:"course" }}
{% if user.username %}
{{ user.username|json_script:"user" }}
{% else %}
{{ user.email|json_script:"user" }}
{% endif %}
<script src="{% static 'chat/js/chat_room.js' %}"></script>
{% endblock %}